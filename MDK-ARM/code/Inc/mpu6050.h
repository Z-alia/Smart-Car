/*********************************************************************************************************************
* ���߶��壺
*                   ------------------------------------
*                   ģ��ܽ�            ��Ƭ���ܽ�
*                   ���� IIC ͨ�����Ŷ�Ӧ��ϵ
*                   SCL                 �鿴 mpu6050.h �� MPU6050_SCL_PIN  �궨��
*                   SDA                 �鿴 mpu6050.h �� MPU6050_SDA_PIN  �궨��
*                   VCC                 3.3V��Դ
*                   GND                 ��Դ��
*                   ������������
*
*                   Ӳ�� IIC ͨ�����Ŷ�Ӧ��ϵ
*                   SCL                 �鿴 mian.h �� MPU6050_SCL_Pin �궨��
*                   SDA                 �鿴 mian.h �� MPU6050_SDA_Pin �궨��
*                   VCC                 3.3V��Դ
*                   GND                 ��Դ��
*                   ������������
*                   ------------------------------------
********************************************************************************************************************/
#ifndef _mpu6050_h_
#define _mpu6050_h_

#include "main.h"


//====================================================Ӳ�� IIC ����====================================================
#define MPU6050_IIC_SPEED           (400000     )         // Ӳ�� IIC ͨ������ ��� 400KHz ��������� 40KHz
/*�˴����ź궨���"main.h"*/
#define MPU6050_SCL_PIN             (MPU6050_SCL_Pin)        // Ӳ�� IIC SCL ���� ���� MPU6050 �� SCL ����
#define MPU6050_SDA_PIN             (MPU6050_SDA_Pin)        // Ӳ�� IIC SDA ���� ���� MPU6050 �� SDA ����
//====================================================Ӳ�� IIC ����====================================================


#define MPU6050_TIMEOUT_COUNT       (0x00FF)                                    // MPU6050 ��ʱ����

//================================================���� MPU6050 �ڲ���ַ================================================
#define MPU6050_DEV_ADDR            (0xD0>>1)      // IICд��ʱ�ĵ�ַ�ֽ����ݣ�+1Ϊ��ȡ

#define MPU6050_SMPLRT_DIV          (0x19)         // �����ǲ����ʣ�����ֵ��0x07(125Hz)
#define MPU6050_CONFIG              (0x1A)         // ��ͨ�˲�Ƶ�ʣ�����ֵ��0x06(5Hz)
#define MPU6050_GYRO_CONFIG         (0x1B)         // �������Լ켰������Χ������ֵ��0x18(���Լ죬2000deg/s)
#define MPU6050_ACCEL_CONFIG        (0x1C)         // ���ټ��Լ졢������Χ����ͨ�˲�Ƶ�ʣ�����ֵ��0x01(���Լ죬2G��5Hz)
#define MPU6050_INT_PIN_CFG         (0x37)         // ����6050����I2CΪֱͨģʽ�Ĵ���
#define MPU6050_ACCEL_XOUT_H        (0x3B)
#define MPU6050_ACCEL_XOUT_L        (0x3C)
#define MPU6050_ACCEL_YOUT_H        (0x3D)
#define MPU6050_ACCEL_YOUT_L        (0x3E)
#define MPU6050_ACCEL_ZOUT_H        (0x3F)
#define MPU6050_ACCEL_ZOUT_L        (0x40)
#define MPU6050_GYRO_XOUT_H         (0x43)
#define MPU6050_GYRO_XOUT_L         (0x44)
#define MPU6050_GYRO_YOUT_H         (0x45)
#define MPU6050_GYRO_YOUT_L         (0x46)
#define MPU6050_GYRO_ZOUT_H         (0x47)
#define MPU6050_GYRO_ZOUT_L         (0x48)
#define MPU6050_USER_CONTROL        (0x6A)                                      // �ر�6050�Ը���I2C�豸�Ŀ���
#define MPU6050_PWR_MGMT_1          (0x6B)                                      // ��Դ����������ֵ��0x00(��������)
#define MPU6050_WHO_AM_I            (0x75)                                      // IIC��ַ�Ĵ���(Ĭ����ֵ0x68��ֻ��)

#define MPU6050_ACC_SAMPLE          (0x10)                                      // ���ٶȼ�����
// ����Ϊ:0x00 ����������Ϊ:��250 dps     ��ȡ�������������ݳ���131.2         ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x08 ����������Ϊ:��500 dps     ��ȡ�������������ݳ���65.6          ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x10 ����������Ϊ:��1000dps     ��ȡ�������������ݳ���32.8          ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x18 ����������Ϊ:��2000dps     ��ȡ�������������ݳ���16.4          ����ת��Ϊ��������λ�����ݣ���λΪ����/s

#define MPU6050_GYR_SAMPLE          (0x18)                                      // ����������
// ����Ϊ:0x00 ����������Ϊ:��250 dps     ��ȡ�������������ݳ���131.2         ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x08 ����������Ϊ:��500 dps     ��ȡ�������������ݳ���65.6          ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x10 ����������Ϊ:��1000dps     ��ȡ�������������ݳ���32.8          ����ת��Ϊ��������λ�����ݣ���λΪ����/s
// ����Ϊ:0x18 ����������Ϊ:��2000dps     ��ȡ�������������ݳ���16.4          ����ת��Ϊ��������λ�����ݣ���λΪ����/s

//================================================���� MPU6050 �ڲ���ַ================================================

extern int16_t mpu6050_gyro_x, mpu6050_gyro_y, mpu6050_gyro_z;                    // ��������������     gyro (������)
extern int16_t mpu6050_acc_x,  mpu6050_acc_y,  mpu6050_acc_z;                     // ������ٶȼ�����    acc (accelerometer ���ٶȼ�)

void    mpu6050_get_acc             (void);
void    mpu6050_get_gyro            (void);
float   mpu6050_acc_transition      (int16_t acc_value);            // �� MPU6050 ���ٶȼ�����ת��Ϊʵ����������
float   mpu6050_gyro_transition     (int16_t gyro_value);           // �� MPU6050 ����������ת��Ϊʵ����������
uint8_t   mpu6050_init                (void);


#endif
